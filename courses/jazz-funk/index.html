<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#000">
    <link rel="icon" href="/images/favicon.png">
    <link rel="stylesheet" href="/normalize.css">
    <link rel="stylesheet" href="/style.css">
    <!-- TODO package icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
    <title>Movartex - Art & Movement</title>
    <script src="/scripts/lang.js"></script>
</head>
<body>
    <header>
        <div class="container header-content">
            <a class="logo center" href="/"></a>
            <nav lang="it">
                <a href="/courses" class="selected">Corsi</a>
                <a href="/teachers">Insegnanti</a>
                <a href="/schedule">Orari</a>
                <a href="/news">Notizie</a>
                <a href="/contact">Contatto</a>
            </nav>
            <nav lang="sl">
                <a href="/courses" class="selected">Tečaji</a>
                <a href="/teachers">Učitelji</a>
                <a href="/schedule">Urnik</a>
                <a href="/news">Novice</a>
                <a href="/contact">Kontakt</a>
            </nav>
            <nav lang="en">
                <a href="/courses" class="selected">Courses</a>
                <a href="/teachers">Teachers</a>
                <a href="/schedule">Schedule</a>
                <a href="/news">News</a>
                <a href="/contact">Contact</a>
            </nav>
            <div class="lang-select">
                <i class="lang-icon lang-it" onclick="changeLanguage('it');"></i>
                <i class="lang-icon lang-sl" onclick="changeLanguage('sl');"></i>
                <i class="lang-icon lang-en" onclick="changeLanguage('en');"></i>
            </div>
        </div>
    </header>
    <section>
        <div class="container clearfix">
            <h2>Jazz Funk</h2>
            <img src="/images/dancers-grayscale-2.webp" class="image right">
            <p class="text">This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text.</p>
            <p>This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text. This is some long text.</p>
        </div>
    </section>
    <section>
        <h2 lang="it">Insegnanti</h2>
        <h2 lang="sl">Učitelji</h2>
        <h2 lang="en">Teachers</h2>
        <div class="container grid" id="teachers"></div>
        <script type="module">
            import { db, teachersOfCategory } from '/scripts/data.js';
            import { createTeacherCard } from '/scripts/cards.js';

            const container = document.querySelector('#teachers');
            const courseCategory = db.find('CourseCategory', ({ Name }) => Name === 'jazz-funk');
            const teachers = teachersOfCategory(courseCategory);
            const teacherCards = await Promise.all(teachers.map(createTeacherCard));

            for (const card of teacherCards) {
                container.appendChild(card);
            }
        </script>
    </section>
    <section>
        <h2 lang="it">Orari</h2>
        <h2 lang="sl">Urnik</h2>
        <h2 lang="en">Schedule</h2>
        <div class="schedule-container container" id="schedule"></div>
        <script type="module">
            import { db } from '/scripts/data.js';
            import { createSchedule } from '/scripts/schedule.js';
            import { createScheduleItem } from '/scripts/cards.js';

            const selection = db.select('ScheduleItem', scheduleItem => {
                const course = db.link('ScheduleItem', scheduleItem, 'Course');
                const courseCategory = db.link('Course', course, 'CourseCategory');
                return courseCategory.Name === 'jazz-funk';
            });
            const scheduleItems = await Promise.all(selection.map(async scheduleItem => {
                const location = db.link('ScheduleItem', scheduleItem, 'Location');
                const course = db.link('ScheduleItem', scheduleItem, 'Course');
                const courseCategory = db.link('Course', course, 'CourseCategory');
                const element = await createScheduleItem(scheduleItem, course, courseCategory, location);
                return {
                    element,
                    start: scheduleItem.StartTime,
                    end: scheduleItem.EndTime,
                    day: scheduleItem.Day,
                };
            }));

            const schedule = createSchedule(scheduleItems);
            document.querySelector('#schedule').appendChild(schedule);
        </script>
    </section>
    <footer>
        <div class="container">
            <div class="center-text footer-text">
                <div>
                    <span lang="it">© 2025 ASD Movartex. Tutti i diritti riservati.</span>
                    <span lang="sl">© 2025 ASD Movartex. Vse pravice pridržane.</span>
                    <span lang="en">© 2025 ASD Movartex. All rights reserved.</span>
                </div>
                <div>
                    <span lang="it">NON usiamo i cookie e NON raccogliamo dati personali.</span>
                    <span lang="sl">NE uporabljamo piškotkov in NE zbiramo osebnih podatkov.</span>
                    <span lang="en">We do NOT use cookies and we do NOT collect personal data.</span>
                </div>
                <div>
                    <span lang="it">Sede legale: Corso Verdi 12, 34170 Gorizia, Italia</span>
                    <span lang="sl">Sedež: Corso Verdi 12, 34170 Gorica, Italija</span>
                    <span lang="en">Registered office: Corso Verdi 12, 34170 Gorizia, Italy</span>
                </div>
                <div>
                    <span lang="it">P.IVA: 01177280318</span>
                    <span lang="sl">Davčna št. (italijanska): 01177280318</span>
                    <span lang="en">VAT (italian): 01177280318</span>
                </div>
            </div>
            <div class="social center">
                <a href="https://www.facebook.com/ASDMovartex/"><i class="fab fa-facebook"></i></a>
                <a href="https://www.instagram.com/asd_movartex/"><i class="fab fa-instagram"></i></a>
                <a href="https://www.tiktok.com/@movartex_st_la"><i class="fab fa-tiktok"></i></a>
            </div>
        </div>
    </footer>
</body>
</html>
